<<<<<<< HEAD
"use strict";var _createClass=function(){function i(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,e){return t&&i(n.prototype,t),e&&i(n,e),n}}();function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}define(["jquery"],function(i){return{init:function(){function n(){_classCallCheck(this,n),this.main=i(".main"),this.home_box=i(".main .main-item"),this.num=0}(new(_createClass(n,[{key:"init",value:function(){this.homel(),this.huanbn()}},{key:"homel",value:function(){var t=this;i.ajax({url:"http://10.31.152.53/zol/php/homelist.php",datatype:"json"}).done(function(n){var e=JSON.parse(n);t.home_box.each(function(n){i(t.home_box[n]).html("")}),Math.floor(t.num/6)===Math.floor(e.length/6)&&(t.num=0),t.home_box.each(function(n){i(t.home_box[n]).on("click",function(){window.location.href="http://10.31.152.53/zol/dist/homelist.html"}),i(t.home_box[n]).html('\n                            <div class="imgC">\n                                <img src='+e[t.num].src+' alt="">\n                            </div>\n                            <p class="p-title">'+e[t.num].title+'</p>\n                            <p class="p-price"style=" color:red;font-size:18px;">￥'+e[t.num].price+'.00</p>\n                            <input type="button" value="立即采购" class="bun">\n                       \n                        '),t.num++}),i(".homebox li").each(function(n,t){i(t).html('\n                            <a href="http://localhost/zol/dist/xiangqing.html">\n                                <div>\n                                    <img src='+e[n].src+' alt="">\n                                </div>\n                                <p class="home_title">'+e[n].title+'</p>\n                                <p class="home_price">￥'+e[n].price+".00</p>\n                            </a>\n                ")})})}},{key:"huanbn",value:function(){var n=this;i(".huanbn").on("click",function(){n.homel()})}}]),n)).init()}}});
=======
"use strict";var _createClass=function(){function e(i,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}return function(i,n,t){return n&&e(i.prototype,n),t&&e(i,t),i}}();function _toConsumableArray(i){if(Array.isArray(i)){for(var n=0,t=Array(i.length);n<i.length;n++)t[n]=i[n];return t}return Array.from(i)}function _classCallCheck(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}define(["jquery","jquerycookie","jquerylazyload"],function(o){return{init:function(){var i=(_createClass(n,[{key:"init",value:function(){this.start(),this.homel(),this.huanbn(),this.login(),o(document).on("mousedown",function(i){if("IMG"==((i=i||event).target||i.srcElement).nodeName)return!1})}},{key:"start",value:function(){o.cookie("phone")?(o(".logins").css("visibility","visible"),o(".logins p a").text(o.cookie("phone"))):(o(".delete").css("visibility","visible"),o(".logins").css("visibility","hidden"),o(".logins p a").text(o.cookie("..."))),o(".tuichu").on("click",function(){o(".logins").css("visibility","hidden"),o.cookie("phone","",{expires:-1,path:"/"}),o.cookie("pass","",{expires:-1,path:"/"}),o(".phone").val(""),o(".password").val("")})}},{key:"homel",value:function(){var e=this;o.ajax({url:"http://10.31.152.53/zol/php/homelist.php",dataType:"json"}).done(function(t){t.push.apply(t,_toConsumableArray(t.slice(0,20))),e.home_box.each(function(i){o(e.home_box[i]).html("")}),Math.floor(e.num/6)===Math.floor(t.length/6)&&(e.num=0),e.home_box.each(function(i,n){o(e.home_box[i]).on("click",function(){window.location.href="http://10.31.152.53/zol/dist/homelist.html"}),o(e.home_box[i]).html('\n                            <div class="imgC">\n                                <img src='+t[e.num].src+" width='181' height='135' alt=\"\" >\n                            </div>\n                            <p class=\"p-title\">"+t[e.num].title+'</p>\n                            <p class="p-price"style=" color:red;font-size:18px;">￥'+t[e.num].price+'.00</p>\n                            <input type="button" value="立即采购" class="bun">\n                        '),e.num++}),0==e.bool&&(console.log(1),o(".homebox li").each(function(i,n){o(n).html('\n                            <a href="detail.html?sid='+t[i].id+"\">\n                                <div>\n                                    <img class='lazy' data-original="+t[i].src+"  width='160' height='120' alt=\"\">\n                                </div>\n                                <p class=\"home_title\">"+t[i].title+'</p>\n                                <p class="home_price">￥'+t[i].price+".00</p>\n                            </a>\n                "),o(function(){o("img.lazy").lazyload({effect:"fadeIn"})})}),e.bool=1)})}},{key:"huanbn",value:function(){var i=this;o(".huanbn").on("click",function(){i.homel()})}},{key:"login",value:function(){o(".bnn").on("click",function(){var n=o(".phone").val(),t=hex_sha1(o(".password").val());console.log(t),o.ajax({url:"http://10.31.152.53/zol/php/login.php",data:"name="+n+"&pass="+t+"&submit=1",type:"post"}).done(function(i){"true"==i?(o(".login p span").css("visibility","hidden"),o.cookie("phone",n,{expires:7,path:"/"}),o.cookie("pass",t,{expires:7,path:"/"}),o(".logins").css("visibility","visible"),o(".logins p a").text(o.cookie("phone"))):(o(".login p span").css("visibility","visible"),o(".login p span").text("用户账号或密码错误"))})})}}]),n);function n(){_classCallCheck(this,n),this.main=o(".main"),this.home_box=o(".main .main-item"),this.num=0,this.bool=0}var t=(_createClass(e,[{key:"init",value:function(){var t=this;this.autoWired(),this.cir.each(function(i,n){o(n).on("click",function(){o(t.imglist[i]).stop(!0).animate({opacity:1}),o(t.imglist[i]).siblings("").css("opacity",0),o(t.cir[i]).addClass("lii").siblings("").removeClass("lii"),num=i})}),this.right.on("click",function(){t.moveRight()}),this.left.on("click",function(){t.num--,t.num<0&&(t.num=4),o(t.imglist[t.num]).stop(!0).animate({opacity:1}),o(t.imglist[t.num]).siblings("").css("opacity",0),o(t.cir[t.num]).addClass("lii").siblings("").removeClass("lii")})}},{key:"moveRight",value:function(){this.num++,4<this.num&&(this.num=0),o(this.imglist[this.num]).stop(!0).animate({opacity:1},300),o(this.imglist[this.num]).siblings("").css("opacity",0),o(this.cir[this.num]).addClass("lii").siblings("").removeClass("lii")}},{key:"autoWired",value:function(){var i=this,n=setInterval(function(){i.moveRight()},1500);o(".content_left").on("mouseover",function(){clearInterval(n)}),o(".content_left").on("mouseout",function(){clearInterval(n),n=setInterval(function(){i.moveRight()},1500)})}}]),e);function e(){_classCallCheck(this,e),this.imglist=o(".lunbo_box img"),this.cir=o(".cir_box li"),this.left=o("#left"),this.right=o("#right"),this.num=0}(new i).init(),(new t).init()}}});
>>>>>>> chengpin
