<<<<<<< HEAD
"use strict";var _createClass=function(){function e(n,t){for(var a=0;a<t.length;a++){var e=t[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}define(["jquery"],function(e){return{init:function(){function n(){_classCallCheck(this,n),this.home_box=e(".goods_list li"),this.num=0}(new(_createClass(n,[{key:"init",value:function(){console.log(e("this.home_box")),this.ajax(),this.bnn()}},{key:"ajax",value:function(){var a=this;e.ajax({url:"http://10.31.152.53/zol/php/homelist.php",datatype:"json"}).done(function(n){var t=JSON.parse(n);a.home_box.each(function(n){e(a.home_box[n]).html("")}),Math.floor(a.num/6)===Math.floor(t.length/6)&&(a.num=0),a.home_box.each(function(n){e(a.home_box[n]).on("click",function(){window.location.href="http://10.31.152.53/zol/dist/homelist.html"}),e(a.home_box[n]).html('\n                            <a href="http://localhost/zol/dist/xiangqing.html" class="pic">\n                                <img src='+t[n].src+' alt="">\n                            </a>\n                            <div class="title">\n                                <a href="http://localhost/zol/dist/xiangqing.html">'+t[n].title+'</a>\n                            </div>\n                            <div class="price-bar clearfix">\n                                <span class="price"><em class="price-mark">￥</em>'+t[n].price+'</span>\n                                <span class="shopping"></span>\n                            </div>\n                       \n                        '),a.num++})})}},{key:"bnn",value:function(){var n=1;e(".btnn").on("click",function(){n=n?(e(".btnn").html('<a class="ahtml"><span>></span>\n                            收起</a>'),e(".item2").css("height"," 240px"),!1):(e(".btnn").html('<a class="ahtml"><span>></span>\n                            更多</a>'),e(".item2").css("height","75px"),1)})}}]),n)).init()}}});
=======
"use strict";var _createClass=function(){function t(a,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var e=0,n=Array(a.length);e<a.length;e++)n[e]=a[e];return n}return Array.from(a)}function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}define(["jquery","jquerylazyload"],function(){return{init:function(){function a(){_classCallCheck(this,a),this.home_box=$(".goods_list li"),this.num=0,this.page=0,this.homequantity=0,this.homeArray=[],this.homesArray=[],this.homedefault=[],this.switch=1}(new(_createClass(a,[{key:"init",value:function(){this.bnn(),this.sort(),this.nextHome(this.page),$(document).on("mousedown",function(a){if("IMG"==((a=a||event).target||a.srcElement).nodeName)return!1})}},{key:"nextHome",value:function(a){var i=this;$(".sidsort").addClass("toolbar-tab_c").siblings().removeClass("toolbar-tab_c"),$.ajax({url:"http://10.31.152.53/zol/php/homelist.php",dataType:"json"}).done(function(o){o.push.apply(o,_toConsumableArray(o.slice(0,30))),o.push.apply(o,_toConsumableArray(o.slice(0,30))),o.push.apply(o,_toConsumableArray(o.slice(0,30))),i.homequantity=o.length,i.home_box.each(function(a){$(i.home_box[a]).html("")}),i.home_box.each(function(a,e){var n,t;$(e).on("click",function(){window.location.href="homelist.html"}),15*(i.page-1)+a+1<=i.homequantity&&(n='\n                                <a href="detail.html?sid='+o[i.num].id+'" class="pic">\n                                    <img class=\'lazy\' data-original='+o[i.num].src+' alt="" width=\'200\' height=\'165\'>\n                                </a>\n                                <div class="title">\n                                    <a href="dist/detail.html">'+o[i.num].title+'</a>\n                                </div>\n                                <div class="price-bar clearfix">\n                                    <span class="price"><em class="price-mark">￥</em>'+o[i.num].price+'</span>\n                                    <span class="shopping"></span>\n                                </div>',$(e).html(n),i.num++,i.page=Math.ceil(i.num/15),i.homeArray[a]=n,i.homedefault[a]=n,t=i.homeArray[a].substr(-130),i.homesArray[a]=t.match(/\d{1,10}/)[0],$(function(){$("img.lazy").lazyload({effect:"fadeIn"})}))}),$(".page").html('<span style="color: red; " class="fenye">'+(a+1)+"</span>/<span class='pagination'>"+Math.ceil(i.homequantity/15)+"</span>"),i.pages()})}},{key:"nextH",value:function(){var n=this;$(".page-next").off("click"),$(".page-prev").off("click"),$(".xia").off("click"),$(".shang").off("click"),$(".page-next").on("click",function(){n.num<n.homequantity&&n.nextHome(Math.ceil(n.num/15))}),$(".page-prev").on("click",function(){30<=n.num?n.num-=30:(n.num=15,n.num=0),n.nextHome(Math.ceil(n.num/15))}),$(".xia").on("click",function(){n.num<n.homequantity&&n.nextHome(Math.ceil(n.num/15))}),$(".shang").on("click",function(){30<=n.num?n.num-=30:(n.num=15,n.num=0),n.nextHome(Math.ceil(n.num/15))}),$(".hover").each(function(a,e){$(e).on("click",function(){$($(".normal-page .hover")[a]).prop("class").match(/active/)||(n.num=15*a,n.page=a+1,n.nextHome(a))})})}},{key:"sort",value:function(){var i=this;$(".sidsort").on("click",function(){1!==i.switch&&($(".sidsort").addClass("toolbar-tab_c").siblings().removeClass("toolbar-tab_c"),$.each(i.homedefault,function(a,e){$($(".goods_list li")[a]).html(e),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})}),i.switch=1)}),$(".dao-di").on("click",function(){if(2!==i.switch){$(".dao-di").addClass("toolbar-tab_c").siblings().removeClass("toolbar-tab_c");for(var a=0;a<i.homeArray.length-1;a++)for(var e,n,t=0;t<i.homeArray.length;t++){+i.homesArray[t]<+i.homesArray[t+1]&&(e=i.homeArray[t],i.homeArray[t]=i.homeArray[t+1],i.homeArray[t+1]=e,n=i.homesArray[t],i.homesArray[t]=i.homesArray[t+1],i.homesArray[t+1]=n)}$.each(i.homeArray,function(a,e){$($(".goods_list li")[a]).html(e),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})}),i.switch=2}}),$(".di-gao").on("click",function(){if(3!==i.switch){$(".di-gao").addClass("toolbar-tab_c").siblings().removeClass("toolbar-tab_c");for(var a=0;a<i.homeArray.length-1;a++)for(var e=0;e<i.homeArray.length;e++){var n,t,o=+i.homesArray[e];+i.homesArray[e+1]<o&&(n=i.homeArray[e],i.homeArray[e]=i.homeArray[e+1],i.homeArray[e+1]=n,t=i.homesArray[e],i.homesArray[e]=i.homesArray[e+1],i.homesArray[e+1]=t)}$.each(i.homeArray,function(a,e){$($(".goods_list li")[a]).html(e),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})}),i.switch=3}})}},{key:"pages",value:function(){for(var a='<a href="javascript:;" class="page-item page-prev disabled ">&lt; 上一页</a>\n                        <a href="javascript:;" class="page-item hover active "><span>1</span></a>',e=2;e<=Math.ceil(this.homequantity/15);e++)a+=' <a href="javascript:;" class="page-item hover "><span> '+e+"</span></a>";a+='<a href="javascript:;" class="page-item page-next ">下一页 &gt;</a>',$(".normal-page").html(a),this.nextH(),$(".hover").eq(this.page-1).addClass("active").siblings(".hover").removeClass("active")}},{key:"bnn",value:function(){var a=1;$(".btnn").on("click",function(){a=a?($(".btnn").html('<a class="ahtml"><span>></span>\n                            收起</a>'),$(".item2").css("height"," 240px"),!1):($(".btnn").html('<a class="ahtml"><span>></span>\n                            更多</a>'),$(".item2").css("height","75px"),1)})}}]),a)).init()}}});
>>>>>>> chengpin
